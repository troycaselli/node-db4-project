const Recipes = require('./recipes-model');

async function checkValidRecipeId(req, res, next) {
    try {
        const {recipe_id} = req.params;
        const existing = await Recipes.findRecipeById(recipe_id);
        if(!existing) {
            next({status: 404, message: `Recipe with id ${recipe_id} does not exist`});
        } else {
            // req.existing = existing;
            next();
        }
    } catch (err) {
        next(err);
    }
}

module.exports = {
    checkValidRecipeId
}